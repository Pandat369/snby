<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Website rainlove - nơi chia sẻ tình yêu thương." />
    <title>Textlove</title>
    <link rel="icon" href="https://github.com/Panbap/anh/blob/main/icon1.png?raw=true" type="image/png" />
    <link href="https://fonts.googleapis.com/css2?family=Playpen+Sans:wght@100..800&display=swap" rel="stylesheet">
    <style>
        html,
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            overflow: hidden;
            background: #000;
            height: 100vh;
            width: 100vw;
            position: relative;
            color: white;
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 0;
        }

        #sticker {
            display: none;
            position: fixed;
            top: 45%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 450px;
            height: 450px;
            z-index: 10;
            pointer-events: none;
        }

        #nextPageBtn {
            position: fixed;
            top: calc(50% + 240px);
            /* thấp hơn ảnh sticker (450px / 2 = 225 + chút khoảng cách) */
            left: 50%;
            transform: translateX(-50%);
            z-index: 11;
            padding: 8px 15px;
            font-size: 1.2rem;
            background-color: #f584b7;
            border: none;
            border-radius: 8px;
            font-family: "Playpen Sans", cursive;
            color: white;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(245, 132, 183, 0.6);
            transition: background-color 0.3s ease;
        }

        #nextPageBtn:hover {
            background-color: #e0538d;
        }

        audio {
            display: none;
        }

        #rotateWarning {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgb(199, 199, 199);
            color: rgb(0, 0, 0);
            font-size: 1.2rem;
            text-align: center;
            font-family: "Playpen Sans", cursive;
            padding-top: 40vh;
            z-index: 20;
        }

        #rotateIcon {
            width: 120px;
            height: auto;
            margin-bottom: 20px;
            animation: rotatePhone 2s infinite ease-in-out;
            transform-origin: center;
        }

        @keyframes rotatePhone {
            0% {
                transform: rotate(0deg);
            }

            25% {
                transform: rotate(20deg);
            }

            50% {
                transform: rotate(0deg);
            }

            75% {
                transform: rotate(-20deg);
            }

            100% {
                transform: rotate(0deg);
            }
        }

        @media (max-width: 768px) {
            #sticker {
                width: 150px;
                height: 150px;
            }

            #nextPageBtn {
                top: calc(50% + 100px);
                padding: 10px 15px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>

<body onclick="goFullscreen()">
    <canvas id="rainCanvas"></canvas>
    <canvas id="canvas"></canvas>
    <img id="sticker" src="" alt="Sticker" />
    <button id="nextPageBtn" style="display:none;">Quà nè</button>
    <audio id="bgm" loop></audio>

    <div id="rotateWarning">
        <img id="rotateIcon" src="./img/123.png" alt="Rotate phone" />
        <br />
        Vui lòng xoay ngang màn hình!
    </div>

    <script>
       const _0x47b30c=_0x20d1;(function(_0xaddba3,_0x1e49f3){const _0x319ef0=_0x20d1,_0x3d52d9=_0xaddba3();while(!![]){try{const _0x4a9a1d=parseInt(_0x319ef0(0x118))/0x1+-parseInt(_0x319ef0(0x125))/0x2+parseInt(_0x319ef0(0x110))/0x3*(parseInt(_0x319ef0(0x10c))/0x4)+-parseInt(_0x319ef0(0xfd))/0x5*(parseInt(_0x319ef0(0xf6))/0x6)+parseInt(_0x319ef0(0xe3))/0x7*(-parseInt(_0x319ef0(0xeb))/0x8)+-parseInt(_0x319ef0(0xe2))/0x9*(parseInt(_0x319ef0(0xf2))/0xa)+-parseInt(_0x319ef0(0x12d))/0xb*(-parseInt(_0x319ef0(0x107))/0xc);if(_0x4a9a1d===_0x1e49f3)break;else _0x3d52d9['push'](_0x3d52d9['shift']());}catch(_0x3569e6){_0x3d52d9['push'](_0x3d52d9['shift']());}}}(_0x34fa,0x3b49f));const canva=document['getElementById']('rainCanvas'),ctxs=canva['getContext']('2d'),letters=_0x47b30c(0x12c)['split'](''),fontSize=0x10;let columns=Math[_0x47b30c(0x12b)](window['innerWidth']/fontSize);const drops=Array(columns)[_0x47b30c(0xef)](0x1);function resizeRainCanvas(){const _0x497166=_0x47b30c;canva[_0x497166(0xfb)]=window[_0x497166(0xfa)],canva[_0x497166(0x103)]=window[_0x497166(0xf7)],columns=Math['floor'](canva[_0x497166(0xfb)]/fontSize),drops[_0x497166(0xe8)]=columns,drops[_0x497166(0xef)](0x1);}resizeRainCanvas(),window[_0x47b30c(0x101)](_0x47b30c(0xf9),resizeRainCanvas);function drawRainBackground(){const _0x3a21c3=_0x47b30c;ctxs['fillStyle']=_0x3a21c3(0x109),ctxs[_0x3a21c3(0xff)](0x0,0x0,canva['width'],canva[_0x3a21c3(0x103)]),ctxs['fillStyle']=_0x3a21c3(0xf4),ctxs[_0x3a21c3(0x115)]=fontSize+_0x3a21c3(0xe5);for(let _0x1af738=0x0;_0x1af738<drops['length'];_0x1af738++){const _0x4352c6=letters[Math['floor'](Math['random']()*letters[_0x3a21c3(0xe8)])];ctxs[_0x3a21c3(0x11a)](_0x4352c6,_0x1af738*fontSize,drops[_0x1af738]*fontSize);if(drops[_0x1af738]*fontSize>canva[_0x3a21c3(0x103)]||Math[_0x3a21c3(0xf3)]()>0.95)drops[_0x1af738]=0x0;drops[_0x1af738]++;}}setInterval(drawRainBackground,0x32);const nextPageBtn=document['getElementById']('nextPageBtn');function showStickerAndButton(){const _0xc9f6f5=_0x47b30c;sticker[_0xc9f6f5(0x100)]&&sticker['src']!==window[_0xc9f6f5(0x12e)][_0xc9f6f5(0x105)]&&sticker[_0xc9f6f5(0x100)]['trim']()!==''&&(sticker[_0xc9f6f5(0xfe)][_0xc9f6f5(0x111)]='block',nextPageBtn[_0xc9f6f5(0xfe)]['display']=_0xc9f6f5(0x127));}function hideStickerAndButton(){const _0x225e93=_0x47b30c;sticker['style'][_0x225e93(0x111)]=_0x225e93(0x12f),nextPageBtn['style'][_0x225e93(0x111)]=_0x225e93(0x12f);}function morphToNextText(){const _0x1f6ac1=_0x47b30c;currentIndex++;if(currentIndex>=texts[_0x1f6ac1(0xe8)]){particles=[],ctx[_0x1f6ac1(0xe7)](0x0,0x0,canvas[_0x1f6ac1(0xfb)],canvas[_0x1f6ac1(0x103)]),canvas[_0x1f6ac1(0xfe)][_0x1f6ac1(0x111)]=_0x1f6ac1(0x12f),showStickerAndButton(),stopAnimation=!![];return;}const _0x286a06=generateDots(texts[currentIndex]);interpolateParticles(_0x286a06),lastMorphTime=Date[_0x1f6ac1(0x126)]();}function stopAnimationFunc(){const _0x521d05=_0x47b30c;rotateWarning[_0x521d05(0xfe)]['display']=_0x521d05(0x127),mainCanvas['style'][_0x521d05(0x111)]='none',mainSticker[_0x521d05(0xfe)][_0x521d05(0x111)]=_0x521d05(0x12f),window[_0x521d05(0xfa)]<=0x300&&window[_0x521d05(0xf7)]>window[_0x521d05(0xfa)]?nextPageBtn[_0x521d05(0xfe)]['display']='block':nextPageBtn[_0x521d05(0xfe)]['display']='none',stopAnimation=!![],animationRunning=![];}nextPageBtn[_0x47b30c(0x101)](_0x47b30c(0x131),()=>{const _0x5df73f=_0x47b30c;window['location'][_0x5df73f(0x105)]='./galaxy.html';});const canvas=document[_0x47b30c(0xec)](_0x47b30c(0x104)),ctx=canvas[_0x47b30c(0xfc)]('2d'),isMobile=window['innerWidth']<0x300,gap=isMobile?0x3:0x5,shapeCanvas=document[_0x47b30c(0xf5)](_0x47b30c(0x104));shapeCanvas[_0x47b30c(0xfb)]=canvas[_0x47b30c(0xfb)]=window[_0x47b30c(0xfa)],shapeCanvas[_0x47b30c(0x103)]=canvas[_0x47b30c(0x103)]=window['innerHeight'];const shapeCtx=shapeCanvas[_0x47b30c(0xfc)]('2d');let inputText=_0x47b30c(0x108),gif=_0x47b30c(0x11e);const sticker=document[_0x47b30c(0xec)](_0x47b30c(0x112));gif&&gif[_0x47b30c(0x11c)]()!==''&&(sticker['src']=decodeURIComponent(gif));const bgm=document[_0x47b30c(0xec)](_0x47b30c(0x102)),music='./img/Ly.mp3';music&&music[_0x47b30c(0x11c)]()!==''&&(bgm['src']=decodeURIComponent(music),bgm[_0x47b30c(0x114)]()[_0x47b30c(0x10a)](()=>{const _0x3d78be=_0x47b30c;console[_0x3d78be(0xea)](_0x3d78be(0x116));}),document[_0x47b30c(0x101)](_0x47b30c(0x131),()=>{const _0x3fb6e3=_0x47b30c;bgm[_0x3fb6e3(0x106)]&&bgm[_0x3fb6e3(0x114)]()[_0x3fb6e3(0x10a)](()=>{const _0x43284a=_0x3fb6e3;console[_0x43284a(0xea)](_0x43284a(0x121));});}));const texts=inputText[_0x47b30c(0x119)]('|')[_0x47b30c(0xe4)](_0x1a50c8=>_0x1a50c8[_0x47b30c(0x11c)]()!=='');let currentIndex=0x0,particles=[],morphDelay=0x258,lastMorphTime=Date[_0x47b30c(0x126)](),stopAnimation=![];function getFittedFont(_0x25d94d){const _0x14210d=_0x47b30c;let _0x11a4f4=0xc8;shapeCtx[_0x14210d(0x115)]=_0x14210d(0x10b)+_0x11a4f4+_0x14210d(0x11f);let _0x1288f9=shapeCtx[_0x14210d(0x128)](_0x25d94d[_0x14210d(0x10e)]('\x0a',''))['width'];while((_0x1288f9>shapeCanvas[_0x14210d(0xfb)]*0.9||_0x11a4f4>shapeCanvas['height']*0.8)&&_0x11a4f4>0xa){_0x11a4f4-=0x5,shapeCtx[_0x14210d(0x115)]=_0x14210d(0x10b)+_0x11a4f4+_0x14210d(0x11f),_0x1288f9=shapeCtx[_0x14210d(0x128)](_0x25d94d[_0x14210d(0x10e)]('\x0a',''))[_0x14210d(0xfb)];}return window[_0x14210d(0xfa)]<0x190&&(_0x11a4f4=Math[_0x14210d(0xf1)](_0x11a4f4,0x50)),_0x11a4f4;}function generateDots(_0x127bd6){const _0x32a802=_0x47b30c;shapeCtx[_0x32a802(0xe7)](0x0,0x0,shapeCanvas[_0x32a802(0xfb)],shapeCanvas[_0x32a802(0x103)]);const _0x1461cf=_0x127bd6['split']('\x0a'),_0x1a5518=getFittedFont(_0x127bd6);shapeCtx['font']=_0x32a802(0x10b)+_0x1a5518+_0x32a802(0x11f),shapeCtx['fillStyle']=_0x32a802(0x120),shapeCtx[_0x32a802(0x130)]=_0x32a802(0x10f),shapeCtx['textBaseline']=_0x32a802(0xee);const _0x1a2084=_0x1a5518*1.2,_0x37299a=_0x1a2084*_0x1461cf['length'],_0x15fe0e=shapeCanvas[_0x32a802(0x103)]/0x2-_0x37299a/0x2+_0x1a2084/0x2;for(let _0x14a33e=0x0;_0x14a33e<_0x1461cf['length'];_0x14a33e++){shapeCtx[_0x32a802(0x11a)](_0x1461cf[_0x14a33e],shapeCanvas[_0x32a802(0xfb)]/0x2,_0x15fe0e+_0x14a33e*_0x1a2084);}const _0x12c7c2=shapeCtx[_0x32a802(0x129)](0x0,0x0,shapeCanvas['width'],shapeCanvas[_0x32a802(0x103)])[_0x32a802(0x11d)],_0x26e484=[];for(let _0x228600=0x0;_0x228600<shapeCanvas[_0x32a802(0x103)];_0x228600+=gap){for(let _0x129ac0=0x0;_0x129ac0<shapeCanvas[_0x32a802(0xfb)];_0x129ac0+=gap){const _0xafa13f=(_0x228600*shapeCanvas[_0x32a802(0xfb)]+_0x129ac0)*0x4;_0x12c7c2[_0xafa13f+0x3]>0x80&&_0x26e484['push']({'x':_0x129ac0,'y':_0x228600});}}return _0x26e484;}function interpolateParticles(_0x267c5c){const _0xcf9f97=_0x47b30c,_0x2432e2=Math['max'](particles[_0xcf9f97(0xe8)],_0x267c5c['length']),_0x95630b=[];for(let _0x3f1d96=0x0;_0x3f1d96<_0x2432e2;_0x3f1d96++){const _0x3157fa=particles[_0x3f1d96%particles['length']]||{'x':canvas[_0xcf9f97(0xfb)]/0x2,'y':canvas[_0xcf9f97(0x103)]/0x2},_0xd76881=_0x267c5c[_0x3f1d96%_0x267c5c[_0xcf9f97(0xe8)]];_0x95630b[_0xcf9f97(0xf8)]({'x':_0x3157fa['x'],'y':_0x3157fa['y'],'tx':_0xd76881['x'],'ty':_0xd76881['y'],'progress':0x0,'speed':0.03+Math[_0xcf9f97(0xf3)]()*0.03});}particles=_0x95630b;}function updateParticles(){const _0x4431b5=_0x47b30c;for(let _0x101d72 of particles){if(_0x101d72[_0x4431b5(0x122)]<0x1){_0x101d72['progress']+=_0x101d72[_0x4431b5(0x132)];if(_0x101d72[_0x4431b5(0x122)]>0x1)_0x101d72['progress']=0x1;}_0x101d72['x']+=(_0x101d72['tx']-_0x101d72['x'])*_0x101d72[_0x4431b5(0x132)],_0x101d72['y']+=(_0x101d72['ty']-_0x101d72['y'])*_0x101d72[_0x4431b5(0x132)];}}function _0x34fa(){const _0x3a30f2=['speed','9522fyCxot','845537FTxIKi','filter','px\x20Playpen\x20Sans','abs','clearRect','length','webkitRequestFullscreen','warn','16gopXBO','getElementById','map','middle','fill','requestFullscreen','min','1630cdqBWW','random','rgb(195,\x20130,\x20255)','createElement','138YCbwiD','innerHeight','push','resize','innerWidth','width','getContext','57025UpGVax','style','fillRect','src','addEventListener','bgm','height','canvas','href','paused','8442492JiGTmO','3|2|1|Có\x20một\x20bí\x20mật|Vào\x20ngày\x20này|Thế\x20giới\x20có\x20thêm|một\x20người|rất\x20đặc\x20biệt|đó\x20chính\x20là|EM|\x20Happy\x20birthday|\x20Như\x20Ý|\x2030-07-2020|\x20','rgba(0,\x200,\x200,\x200.05)','catch','bold\x20','17684QRHgop','fillStyle','replace','center','294NceeQl','display','sticker','every','play','font','Chờ\x20người\x20dùng\x20click\x20để\x20phát\x20nhạc.','arc','21737EPoOyy','split','fillText','documentElement','trim','data','./img/h2.gif','px\x20Segoe\x20UI','#fff','Không\x20thể\x20phát\x20nhạc\x20do\x20trình\x20duyệt.','progress','msRequestFullscreen','rotateWarning','478676uuNlgI','now','block','measureText','getImageData','white','floor','Happy\x20Birthday','11SVkzUf','location','none','textAlign','click'];_0x34fa=function(){return _0x3a30f2;};return _0x34fa();}function drawParticles(){const _0x3cf957=_0x47b30c;ctx[_0x3cf957(0xe7)](0x0,0x0,canvas['width'],canvas[_0x3cf957(0x103)]);for(let _0x143d61 of particles){ctx[_0x3cf957(0x10d)]=_0x3cf957(0x12a),ctx['beginPath'](),ctx[_0x3cf957(0x117)](_0x143d61['x'],_0x143d61['y'],isMobile?1.3:2.3,0x0,Math['PI']*0x2),ctx[_0x3cf957(0xef)]();}}function morphToNextText(){const _0xe56cdd=_0x47b30c;currentIndex++;if(currentIndex>=texts[_0xe56cdd(0xe8)]){particles=[],ctx[_0xe56cdd(0xe7)](0x0,0x0,canvas[_0xe56cdd(0xfb)],canvas['height']),canvas[_0xe56cdd(0xfe)][_0xe56cdd(0x111)]='none',showStickerAndButton(),stopAnimation=!![];return;}const _0x4ff174=generateDots(texts[currentIndex]);interpolateParticles(_0x4ff174),lastMorphTime=Date['now']();}function animate(){const _0x4aee2d=_0x47b30c;if(stopAnimation)return;updateParticles(),drawParticles();const _0x2f4ad8=particles[_0x4aee2d(0x113)](_0x111d86=>Math[_0x4aee2d(0xe6)](_0x111d86['x']-_0x111d86['tx'])<0.5&&Math['abs'](_0x111d86['y']-_0x111d86['ty'])<0.5);_0x2f4ad8&&Date['now']()-lastMorphTime>morphDelay&&morphToNextText(),requestAnimationFrame(animate);}const firstDots=generateDots(texts[0x0]);particles=firstDots[_0x47b30c(0xed)](_0x2c3287=>({'x':canvas[_0x47b30c(0xfb)]/0x2,'y':canvas[_0x47b30c(0x103)]/0x2,'tx':_0x2c3287['x'],'ty':_0x2c3287['y'],'progress':0x0,'speed':0.05+Math[_0x47b30c(0xf3)]()*0.05})),canvas[_0x47b30c(0xfe)][_0x47b30c(0x111)]=_0x47b30c(0x12f),setTimeout(()=>{const _0x29750e=_0x47b30c;canvas['style'][_0x29750e(0x111)]=_0x29750e(0x127),lastMorphTime=Date[_0x29750e(0x126)](),animate();},0x3e8);function isLandscape(){const _0x18fe65=_0x47b30c;return window['innerWidth']>window[_0x18fe65(0xf7)];}const rotateWarning=document['getElementById'](_0x47b30c(0x124)),mainCanvas=canvas,mainSticker=sticker;let animationRunning=![];function startAnimation(){const _0x23c760=_0x47b30c;rotateWarning[_0x23c760(0xfe)][_0x23c760(0x111)]=_0x23c760(0x12f);if(stopAnimation&&currentIndex>=texts['length']){canvas[_0x23c760(0xfe)][_0x23c760(0x111)]='none',sticker['style']['display']=_0x23c760(0x127),nextPageBtn[_0x23c760(0xfe)]['display']='block';return;}mainCanvas['style']['display']=_0x23c760(0x127),mainSticker[_0x23c760(0xfe)]['display']=_0x23c760(0x12f),stopAnimation=![],lastMorphTime=Date[_0x23c760(0x126)](),!animationRunning&&(animationRunning=!![],animate());}function stopAnimationFunc(){const _0x54ccb3=_0x47b30c;rotateWarning[_0x54ccb3(0xfe)][_0x54ccb3(0x111)]=_0x54ccb3(0x127),mainCanvas[_0x54ccb3(0xfe)]['display']=_0x54ccb3(0x12f),sticker[_0x54ccb3(0xfe)][_0x54ccb3(0x111)]!==_0x54ccb3(0x127)&&(mainSticker['style'][_0x54ccb3(0x111)]='none'),stopAnimation=!![],animationRunning=![];}function checkOrientationAndStart(){isLandscape()?startAnimation():stopAnimationFunc();}function onResizeOrOrientationChange(){const _0x22a9b1=_0x47b30c;canvas[_0x22a9b1(0xfb)]=window[_0x22a9b1(0xfa)],canvas[_0x22a9b1(0x103)]=window[_0x22a9b1(0xf7)],shapeCanvas['width']=canvas[_0x22a9b1(0xfb)],shapeCanvas[_0x22a9b1(0x103)]=canvas[_0x22a9b1(0x103)],resizeRainCanvas();if(texts[currentIndex]){const _0x129bb=generateDots(texts[currentIndex]);particles=_0x129bb[_0x22a9b1(0xed)](_0x1491c7=>({'x':canvas[_0x22a9b1(0xfb)]/0x2,'y':canvas[_0x22a9b1(0x103)]/0x2,'tx':_0x1491c7['x'],'ty':_0x1491c7['y'],'progress':0x0,'speed':0.05+Math[_0x22a9b1(0xf3)]()*0.05}));}checkOrientationAndStart();}window['addEventListener'](_0x47b30c(0xf9),onResizeOrOrientationChange),window[_0x47b30c(0x101)]('orientationchange',onResizeOrOrientationChange),checkOrientationAndStart();function _0x20d1(_0xd0ad1b,_0x33fd30){const _0x34fabb=_0x34fa();return _0x20d1=function(_0x20d11d,_0x3cd0ff){_0x20d11d=_0x20d11d-0xe2;let _0x7e3d14=_0x34fabb[_0x20d11d];return _0x7e3d14;},_0x20d1(_0xd0ad1b,_0x33fd30);}function goFullscreen(){const _0x2b4afa=_0x47b30c,_0x1c4e92=document[_0x2b4afa(0x11b)];if(_0x1c4e92[_0x2b4afa(0xf0)])_0x1c4e92[_0x2b4afa(0xf0)]();else{if(_0x1c4e92[_0x2b4afa(0xe9)])_0x1c4e92[_0x2b4afa(0xe9)]();else _0x1c4e92[_0x2b4afa(0x123)]&&_0x1c4e92[_0x2b4afa(0x123)]();}}
    </script>
</body>

</html>
