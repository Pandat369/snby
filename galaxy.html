<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hạnh</title>
  <link rel="icon" type="image/png" href="/heart.png" sizes="16x16" />
  <link rel="stylesheet" href="./img/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.152.2/build/three.module.js",
        "three/addons/controls/OrbitControls.js": "https://unpkg.com/three@0.152.2/examples/jsm/controls/OrbitControls.js",
        "three/examples/jsm/loaders/FontLoader.js": "https://unpkg.com/three@0.152.2/examples/jsm/loaders/FontLoader.js",
        "three/examples/jsm/geometries/TextGeometry.js": "https://unpkg.com/three@0.152.2/examples/jsm/geometries/TextGeometry.js"
      }
    }
  </script>

  <style>
    .text-white {
      color: white !important;
    }

    .btn-audio-toggle {
      background-color: transparent;
      border: none;
      cursor: pointer;
      padding: 0;
    }

    .music-status {
      display: flex;
      position: fixed;
      top: 15px;
      left: 50%;
      transform: translateX(-50%);
      background-color: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 8px 15px;
      border-radius: 20px;
      z-index: 9999;
      align-items: center;
      font-family: sans-serif;
      font-size: 14px;
    }

    .music-status .spinner {
      border: 3px solid #f3f3f3;
      border-top: 3px solid #a259f7;
      border-radius: 50%;
      width: 18px;
      height: 18px;
      animation: spin 1s linear infinite;
      margin-right: 10px;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    #audio-icon {
      font-size: 20px;
    }

    body.portrait-mode #landscape-warning {
      display: flex;
      opacity: 1;
    }
  </style>
</head>

<body>
  <div id="container">
  <div id="landscape-warning">
    <div class="warning-content">
      <div class="rotate-icon"></div>
      <h1>Love</h1>
      <h1>Tinh Cầu</h1>
      <p style="font-size: 0.6em;">Cậu hãy xoay ngang màn hình nha để thấy điều kỳ diệu!</p>
      <p style="font-size: 0.6em;">Nhớ chạm vào tinh cầu ở giữa để mở quà bí mật nha.</p>
      <div class="stars-bg"></div>
    </div>
  </div>

  <div id="dark-overlay"></div>
  <div id="info"></div>
  <!-- Nút bật/tắt nhạc -->
  <button id="toggle-audio" class="text-white btn-audio-toggle"
    style="position: absolute; top: 10px; right: 10px; z-index: 999;">
    <i id="audio-icon" class="fa-solid fa-volume-xmark"></i>
  </button>
  </div>
  <script>
    window.dataLove2Loveloom = {
      template: "galaxy",
      data: {
        keychain: { name: "Loveloom", phone: "Loveloom", address: "Loveloom" },
        ringTexts: ["galaxy"],
      }
    };
  </script>

  <script type="module" src="./img/script.js"></script>

  <script>
      function _0x4e7f(){const _0x2b367f=['playsinline','isPlaying','pause','fa-volume-high','warn','updateUI','auto','toggle-audio','volume','setAttribute','4476017iZOSQF','8duZtlD','352911sGNihW','audio-icon','24wyuUxz','onpause','DOMContentLoaded','audio','65866gLbKJC','click','loop','add','init','togglePlayback','3835645ZmWXJq','remove','5981340lCJcrJ','preload','addEventListener','6kWrYvV','onplay','4RunyuS','./img/Ly.mp3','1089145IJABrQ','48socPXZ','fa-volume-xmark','classList','Lỗi\x20phát\x20nhạc:','6050349vwGDFV','getElementById'];_0x4e7f=function(){return _0x2b367f;};return _0x4e7f();}const _0x382346=_0x5bb5;(function(_0x42bd41,_0x4bf263){const _0x1bde08=_0x5bb5,_0xbca657=_0x42bd41();while(!![]){try{const _0x59f838=-parseInt(_0x1bde08(0xdc))/0x1+-parseInt(_0x1bde08(0xe2))/0x2*(-parseInt(_0x1bde08(0xde))/0x3)+parseInt(_0x1bde08(0xef))/0x4*(-parseInt(_0x1bde08(0xf1))/0x5)+-parseInt(_0x1bde08(0xed))/0x6*(parseInt(_0x1bde08(0xda))/0x7)+parseInt(_0x1bde08(0xdb))/0x8*(-parseInt(_0x1bde08(0xce))/0x9)+parseInt(_0x1bde08(0xea))/0xa+-parseInt(_0x1bde08(0xe8))/0xb*(-parseInt(_0x1bde08(0xf2))/0xc);if(_0x59f838===_0x4bf263)break;else _0xbca657['push'](_0xbca657['shift']());}catch(_0x2a6e7d){_0xbca657['push'](_0xbca657['shift']());}}}(_0x4e7f,0x5b4ba));function _0x5bb5(_0x3a20a3,_0x445600){const _0x4e7f4e=_0x4e7f();return _0x5bb5=function(_0x5bb557,_0x17fa57){_0x5bb557=_0x5bb557-0xcc;let _0x1b8e51=_0x4e7f4e[_0x5bb557];return _0x1b8e51;},_0x5bb5(_0x3a20a3,_0x445600);}const musicManager={'audio':null,'isPlaying':!0x1,'init'(){const _0x305317=_0x5bb5;this[_0x305317(0xe1)]=new Audio(_0x305317(0xf0)),this['audio'][_0x305317(0xe4)]=!0x0,this[_0x305317(0xe1)][_0x305317(0xd8)]=0.7,this[_0x305317(0xe1)][_0x305317(0xeb)]=_0x305317(0xd6),this['audio'][_0x305317(0xd9)](_0x305317(0xd0),''),this[_0x305317(0xe1)][_0x305317(0xee)]=()=>{const _0x3a3638=_0x305317;this[_0x3a3638(0xd1)]=!0x0,this['updateUI']();},this['audio'][_0x305317(0xdf)]=()=>{const _0x30c04d=_0x305317;this[_0x30c04d(0xd1)]=!0x1,this['updateUI']();},document[_0x305317(0xec)](_0x305317(0xe3),()=>{const _0x378ba9=_0x305317;this['isPlaying']||this[_0x378ba9(0xe1)]['play']()['catch'](_0x339a25=>{const _0x3b3f3b=_0x378ba9;console[_0x3b3f3b(0xd4)]('Không\x20thể\x20phát\x20nhạc:',_0x339a25);});},{'once':!0x0}),this[_0x305317(0xd5)]();},'togglePlayback'(){const _0x3beab7=_0x5bb5;this[_0x3beab7(0xe1)]&&(this['audio']['paused']?this[_0x3beab7(0xe1)]['play']()['catch'](_0x1d795c=>{const _0x2ee9d7=_0x3beab7;console[_0x2ee9d7(0xd4)](_0x2ee9d7(0xcd),_0x1d795c);}):this[_0x3beab7(0xe1)][_0x3beab7(0xd2)]());},'updateUI'(){const _0x2f38ee=_0x5bb5,_0x2e6923=document[_0x2f38ee(0xcf)](_0x2f38ee(0xdd));this[_0x2f38ee(0xd1)]?(_0x2e6923[_0x2f38ee(0xcc)][_0x2f38ee(0xe9)](_0x2f38ee(0xf3)),_0x2e6923['classList']['add'](_0x2f38ee(0xd3))):(_0x2e6923[_0x2f38ee(0xcc)][_0x2f38ee(0xe9)](_0x2f38ee(0xd3)),_0x2e6923[_0x2f38ee(0xcc)][_0x2f38ee(0xe5)](_0x2f38ee(0xf3)));}};document[_0x382346(0xec)](_0x382346(0xe0),()=>{const _0x237849=_0x382346;musicManager[_0x237849(0xe6)](),document['getElementById'](_0x237849(0xd7))[_0x237849(0xec)](_0x237849(0xe3),()=>{const _0xc9b5c3=_0x237849;musicManager[_0xc9b5c3(0xe7)]();});});
  </script>
</body>

</html>